<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureChat - 个人资料</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link rel="stylesheet" href="securechat_theme.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .profile-container {
            height: 680px;
            overflow-y: auto;
            padding: 20px;
        }
        
        .profile-header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: var(--radius-lg);
            padding: 32px;
            margin-bottom: 24px;
            color: white;
            text-align: center;
            position: relative;
        }
        
        .profile-avatar-large {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            font-weight: bold;
            margin: 0 auto 20px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .profile-avatar-large:hover {
            transform: scale(1.05);
        }
        
        .avatar-edit-overlay {
            position: absolute;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .profile-avatar-large:hover .avatar-edit-overlay {
            opacity: 1;
        }
        
        .profile-name {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .profile-username {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 4px;
        }
        
        .profile-status {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 24px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .info-section {
            background-color: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .info-item {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-content {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .info-icon {
            width: 20px;
            height: 20px;
            color: var(--primary);
        }
        
        .info-details {
            flex: 1;
        }
        
        .info-label {
            font-size: 14px;
            color: var(--muted-foreground);
            margin-bottom: 2px;
        }
        
        .info-value {
            font-weight: 500;
        }
        
        .info-actions {
            display: flex;
            gap: 8px;
        }
        
        .edit-btn {
            padding: 6px 12px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--background);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 12px;
        }
        
        .edit-btn:hover {
            background-color: var(--muted);
            border-color: var(--primary);
        }
        
        .privacy-section {
            background-color: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
        }
        
        .privacy-item {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .privacy-item:last-child {
            border-bottom: none;
        }
        
        .privacy-info {
            flex: 1;
        }
        
        .privacy-label {
            font-weight: 500;
            margin-bottom: 4px;
        }
        
        .privacy-desc {
            font-size: 14px;
            color: var(--muted-foreground);
        }
        
        .privacy-control {
            margin-left: 16px;
        }
        
        .visibility-select {
            padding: 6px 12px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--input);
            color: var(--foreground);
            font-size: 12px;
        }
        
        .activity-timeline {
            background-color: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .timeline-item {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            position: relative;
        }
        
        .timeline-item:last-child {
            margin-bottom: 0;
        }
        
        .timeline-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 10px;
            top: 24px;
            bottom: -16px;
            width: 1px;
            background-color: var(--border);
        }
        
        .timeline-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .timeline-content {
            flex: 1;
        }
        
        .timeline-title {
            font-weight: 500;
            margin-bottom: 2px;
        }
        
        .timeline-desc {
            font-size: 14px;
            color: var(--muted-foreground);
            margin-bottom: 4px;
        }
        
        .timeline-time {
            font-size: 12px;
            color: var(--muted-foreground);
        }
        
        .security-badges {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }
        
        .security-badge {
            padding: 6px 12px;
            border-radius: var(--radius);
            font-size: 12px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .badge-verified {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--success);
        }
        
        .badge-encrypted {
            background-color: rgba(0, 212, 170, 0.1);
            color: var(--primary);
        }
        
        .badge-premium {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }
        
        .qr-code-section {
            background-color: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .qr-code {
            width: 150px;
            height: 150px;
            background-color: var(--muted);
            border-radius: var(--radius);
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--muted-foreground);
        }
        
        .device-list {
            background-color: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
        }
        
        .device-item {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .device-item:last-child {
            border-bottom: none;
        }
        
        .device-info {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .device-icon {
            width: 40px;
            height: 40px;
            background-color: var(--muted);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .device-details {
            flex: 1;
        }
        
        .device-name {
            font-weight: 500;
            margin-bottom: 2px;
        }
        
        .device-meta {
            font-size: 12px;
            color: var(--muted-foreground);
        }
        
        .device-status {
            padding: 4px 8px;
            border-radius: var(--radius);
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-current {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--success);
        }
        
        .status-offline {
            background-color: rgba(107, 114, 128, 0.1);
            color: var(--muted-foreground);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 顶部导航栏 -->
        <div class="header">
            <div class="flex items-center space-x-3">
                <button class="p-2 hover:bg-muted rounded-lg transition-colors" onclick="history.back()">
                    <i data-lucide="arrow-left" class="icon"></i>
                </button>
                <i data-lucide="user" class="icon text-primary"></i>
                <span class="text-lg font-semibold">个人资料</span>
            </div>
            <div class="flex items-center space-x-4">
                <button class="p-2 hover:bg-muted rounded-lg transition-colors">
                    <i data-lucide="edit" class="icon"></i>
                </button>
                <button class="p-2 hover:bg-muted rounded-lg transition-colors">
                    <i data-lucide="share-2" class="icon"></i>
                </button>
            </div>
        </div>

        <!-- 主内容区域 -->
        <div class="profile-container">
            <!-- 个人资料头部 -->
            <div class="profile-header">
                <div class="profile-avatar-large">
                    张
                    <div class="avatar-edit-overlay">
                        <i data-lucide="camera" class="w-8 h-8"></i>
                    </div>
                </div>
                <div class="profile-name">张三</div>
                <div class="profile-username">@zhangsan_2024</div>
                <div class="profile-status">软件工程师 • 在线</div>
                
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-number">156</div>
                        <div class="stat-label">联系人</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">23</div>
                        <div class="stat-label">群组</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">2.3K</div>
                        <div class="stat-label">消息</div>
                    </div>
                </div>
                
                <div class="security-badges">
                    <div class="security-badge badge-verified">
                        <i data-lucide="check-circle" class="w-3 h-3"></i>
                        已验证
                    </div>
                    <div class="security-badge badge-encrypted">
                        <i data-lucide="shield-check" class="w-3 h-3"></i>
                        端到端加密
                    </div>
                    <div class="security-badge badge-premium">
                        <i data-lucide="star" class="w-3 h-3"></i>
                        高级用户
                    </div>
                </div>
            </div>

            <!-- 基本信息 -->
            <div class="info-section">
                <div class="section-header">
                    <div class="section-title">
                        <i data-lucide="info" class="w-5 h-5 text-primary"></i>
                        基本信息
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-content">
                        <i data-lucide="user" class="info-icon"></i>
                        <div class="info-details">
                            <div class="info-label">姓名</div>
                            <div class="info-value">张三</div>
                        </div>
                    </div>
                    <div class="info-actions">
                        <button class="edit-btn">编辑</button>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-content">
                        <i data-lucide="at-sign" class="info-icon"></i>
                        <div class="info-details">
                            <div class="info-label">用户名</div>
                            <div class="info-value">@zhangsan_2024</div>
                        </div>
                    </div>
                    <div class="info-actions">
                        <button class="edit-btn">编辑</button>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-content">
                        <i data-lucide="phone" class="info-icon"></i>
                        <div class="info-details">
                            <div class="info-label">手机号码</div>
                            <div class="info-value">138****8888</div>
                        </div>
                    </div>
                    <div class="info-actions">
                        <button class="edit-btn">更换</button>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-content">
                        <i data-lucide="mail" class="info-icon"></i>
                        <div class="info-details">
                            <div class="info-label">邮箱地址</div>
                            <div class="info-value">zhang***@example.com</div>
                        </div>
                    </div>
                    <div class="info-actions">
                        <button class="edit-btn">编辑</button>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-content">
                        <i data-lucide="message-square" class="info-icon"></i>
                        <div class="info-details">
                            <div class="info-label">个性签名</div>
                            <div class="info-value">保持专注，持续学习</div>
                        </div>
                    </div>
                    <div class="info-actions">
                        <button class="edit-btn">编辑</button>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-content">
                        <i data-lucide="calendar" class="info-icon"></i>
                        <div class="info-details">
                            <div class="info-label">注册时间</div>
                            <div class="info-value">2024年1月15日</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 隐私设置 -->
            <div class="privacy-section">
                <div class="section-header">
                    <div class="section-title">
                        <i data-lucide="eye" class="w-5 h-5 text-primary"></i>
                        隐私设置
                    </div>
                    <div class="section-description">控制其他人可以看到的信息</div>
                </div>
                
                <div class="privacy-item">
                    <div class="privacy-info">
                        <div class="privacy-label">头像可见性</div>
                        <div class="privacy-desc">谁可以看到您的头像</div>
                    </div>
                    <div class="privacy-control">
                        <select class="visibility-select">
                            <option>所有人</option>
                            <option>联系人</option>
                            <option>仅自己</option>
                        </select>
                    </div>
                </div>
                
                <div class="privacy-item">
                    <div class="privacy-info">
                        <div class="privacy-label">在线状态</div>
                        <div class="privacy-desc">是否显示在线状态</div>
                    </div>
                    <div class="privacy-control">
                        <div class="toggle-switch active">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
                
                <div class="privacy-item">
                    <div class="privacy-info">
                        <div class="privacy-label">最后上线时间</div>
                        <div class="privacy-desc">显示最后上线时间</div>
                    </div>
                    <div class="privacy-control">
                        <select class="visibility-select">
                            <option>所有人</option>
                            <option>联系人</option>
                            <option>不显示</option>
                        </select>
                    </div>
                </div>
                
                <div class="privacy-item">
                    <div class="privacy-info">
                        <div class="privacy-label">个性签名</div>
                        <div class="privacy-desc">谁可以看到您的个性签名</div>
                    </div>
                    <div class="privacy-control">
                        <select class="visibility-select">
                            <option>所有人</option>
                            <option>联系人</option>
                            <option>仅自己</option>
                        </select>
                    </div>
                </div>
                
                <div class="privacy-item">
                    <div class="privacy-info">
                        <div class="privacy-label">添加方式</div>
                        <div class="privacy-desc">其他人如何添加您为联系人</div>
                    </div>
                    <div class="privacy-control">
                        <select class="visibility-select">
                            <option>用户名</option>
                            <option>手机号</option>
                            <option>二维码</option>
                            <option>需要验证</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- 二维码名片 -->
            <div class="qr-code-section">
                <h3 class="text-lg font-semibold mb-4 flex items-center justify-center gap-2">
                    <i data-lucide="qr-code" class="w-5 h-5 text-primary"></i>
                    我的二维码名片
                </h3>
                
                <div class="qr-code">
                    <i data-lucide="qr-code" class="w-16 h-16"></i>
                </div>
                
                <p class="text-sm text-muted-foreground mb-4">
                    扫描二维码添加我为联系人
                </p>
                
                <div class="flex gap-2 justify-center">
                    <button class="btn btn-secondary">
                        <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                        保存图片
                    </button>
                    <button class="btn btn-secondary">
                        <i data-lucide="share-2" class="w-4 h-4 mr-2"></i>
                        分享
                    </button>
                </div>
            </div>

            <!-- 活动记录 -->
            <div class="activity-timeline">
                <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                    <i data-lucide="activity" class="w-5 h-5 text-primary"></i>
                    最近活动
                </h3>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background-color: var(--success);">
                        <i data-lucide="message-circle" class="w-3 h-3 text-white"></i>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">发送消息</div>
                        <div class="timeline-desc">向张三发送了一条消息</div>
                        <div class="timeline-time">5分钟前</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background-color: var(--primary);">
                        <i data-lucide="user-plus" class="w-3 h-3 text-white"></i>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">添加联系人</div>
                        <div class="timeline-desc">添加了李四为联系人</div>
                        <div class="timeline-time">2小时前</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background-color: var(--warning);">
                        <i data-lucide="settings" class="w-3 h-3 text-white"></i>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">更新设置</div>
                        <div class="timeline-desc">修改了隐私设置</div>
                        <div class="timeline-time">昨天 16:30</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background-color: var(--accent);">
                        <i data-lucide="shield-check" class="w-3 h-3 text-white"></i>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">安全验证</div>
                        <div class="timeline-desc">完成了身份验证</div>
                        <div class="timeline-time">3天前</div>
                    </div>
                </div>
            </div>

            <!-- 设备管理 -->
            <div class="device-list">
                <div class="section-header">
                    <div class="section-title">
                        <i data-lucide="smartphone" class="w-5 h-5 text-primary"></i>
                        登录设备
                    </div>
                    <div class="section-description">管理您的登录设备</div>
                </div>
                
                <div class="device-item">
                    <div class="device-info">
                        <div class="device-icon">
                            <i data-lucide="monitor" class="w-5 h-5 text-primary"></i>
                        </div>
                        <div class="device-details">
                            <div class="device-name">Windows PC</div>
                            <div class="device-meta">Chrome 120 • 北京 • 当前设备</div>
                        </div>
                    </div>
                    <div class="device-status status-current">当前设备</div>
                </div>
                
                <div class="device-item">
                    <div class="device-info">
                        <div class="device-icon">
                            <i data-lucide="smartphone" class="w-5 h-5 text-muted-foreground"></i>
                        </div>
                        <div class="device-details">
                            <div class="device-name">iPhone 15</div>
                            <div class="device-meta">iOS 17.2 • 上海 • 3天前</div>
                        </div>
                    </div>
                    <div class="device-status status-offline">离线</div>
                </div>
                
                <div class="device-item">
                    <div class="device-info">
                        <div class="device-icon">
                            <i data-lucide="laptop" class="w-5 h-5 text-muted-foreground"></i>
                        </div>
                        <div class="device-details">
                            <div class="device-name">MacBook Pro</div>
                            <div class="device-meta">Safari 17 • 深圳 • 1周前</div>
                        </div>
                    </div>
                    <div class="device-status status-offline">离线</div>
                </div>
            </div>
        </div>

        <!-- 底部状态栏 -->
        <div class="footer">
            <div class="flex items-center space-x-4">
                <span>账户状态: 已验证</span>
                <span>•</span>
                <span>会员等级: 高级用户</span>
                <span>•</span>
                <span>注册时长: 5天</span>
            </div>
            <div class="flex items-center space-x-2">
                <i data-lucide="shield-check" class="w-3 h-3 text-success"></i>
                <span class="encrypted-indicator">资料已加密保护</span>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        
        // 头像编辑功能
        document.querySelector('.profile-avatar-large').addEventListener('click', function() {
            console.log('更换头像');
            // 这里可以打开文件选择对话框
        });
        
        // 编辑按钮功能
        document.querySelectorAll('.edit-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const infoItem = this.closest('.info-item');
                const label = infoItem.querySelector('.info-label').textContent;
                const currentValue = infoItem.querySelector('.info-value').textContent;
                
                console.log(`编辑${label}:`, currentValue);
                
                // 模拟编辑功能
                if (this.textContent === '编辑') {
                    const newValue = prompt(`请输入新的${label}:`, currentValue);
                    if (newValue && newValue !== currentValue) {
                        infoItem.querySelector('.info-value').textContent = newValue;
                        console.log(`${label}已更新为:`, newValue);
                    }
                }
            });
        });
        
        // 隐私设置切换
        document.querySelectorAll('.visibility-select').forEach(select => {
            select.addEventListener('change', function() {
                const privacyItem = this.closest('.privacy-item');
                const label = privacyItem.querySelector('.privacy-label').textContent;
                const value = this.value;
                
                console.log(`${label}设置为: ${value}`);
            });
        });
        
        // 切换开关功能
        document.querySelectorAll('.toggle-switch').forEach(toggle => {
            toggle.addEventListener('click', function() {
                this.classList.toggle('active');
                
                const privacyItem = this.closest('.privacy-item');
                if (privacyItem) {
                    const label = privacyItem.querySelector('.privacy-label').textContent;
                    const isActive = this.classList.contains('active');
                    console.log(`${label}: ${isActive ? '开启' : '关闭'}`);
                }
            });
        });
        
        // 二维码操作
        document.querySelectorAll('.qr-code-section button').forEach(btn => {
            btn.addEventListener('click', function() {
                const action = this.textContent.trim();
                console.log('二维码操作:', action);
                
                if (action.includes('保存')) {
                    // 模拟保存二维码
                    alert('二维码已保存到本地');
                } else if (action.includes('分享')) {
                    // 模拟分享功能
                    alert('分享功能');
                }
            });
        });
        
        // 设备管理
        document.querySelectorAll('.device-item').forEach(item => {
            item.addEventListener('click', function() {
                const deviceName = this.querySelector('.device-name').textContent;
                const isCurrentDevice = this.querySelector('.status-current');
                
                if (!isCurrentDevice) {
                    if (confirm(`确定要注销设备"${deviceName}"吗？`)) {
                        console.log('注销设备:', deviceName);
                        this.remove();
                    }
                }
            });
        });
        
        // 统计数据点击
        document.querySelectorAll('.stat-item').forEach(stat => {
            stat.addEventListener('click', function() {
                const label = this.querySelector('.stat-label').textContent;
                console.log('查看详细', label);
            });
        });
        
        // 活动记录点击
        document.querySelectorAll('.timeline-item').forEach(item => {
            item.addEventListener('click', function() {
                const title = this.querySelector('.timeline-title').textContent;
                const desc = this.querySelector('.timeline-desc').textContent;
                console.log('活动详情:', title, desc);
            });
        });
    </script>
</body>
</html>